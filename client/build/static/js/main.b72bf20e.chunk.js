(this["webpackJsonpcode-snippets"]=this["webpackJsonpcode-snippets"]||[]).push([[0],{62:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a(8),r=a.n(n),o=a(45),c=a(87),s=a(94),d=(a(54),a(10)),l=a(89),u=a(63),j=a(1),b=function(e){var t=Object(c.a)((function(t){return{containerStyles:{height:"100%",width:"auto",marginTop:e.marginTop,"@media (max-width:1024px)":{minWidth:"500%"}},fillerStyles:{width:e.completed+"%",background:"linear-gradient(to right, #0f0c29, #302b63, #24243e)",borderRadius:"15px",textAlign:"right",transition:"width 1s ease-in-out"},labelStyles:{paddingLeft:"auto",paddingRight:"auto",color:"#fff",marginTop:0,marginLeft:0,marginRight:t.spacing(1),marginBottom:0,paddingTop:"1px"}}}))();return Object(j.jsx)("div",{className:t.containerStyles,children:Object(j.jsx)("div",{className:t.fillerStyles,children:Object(j.jsxs)(u.a,{className:t.labelStyles,variant:"body1",gutterBottom:!0,children:[e.completed,"%"]})})})},m=a(90),p=function(){var e=Object(i.useState)(30),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(!1),o=Object(d.a)(r,2),s=o[0],p=o[1],h=Object(i.useState)(30),g=Object(d.a)(h,2),x=g[0],O=g[1],y=Object(i.useState)(!1),v=Object(d.a)(y,2),f=v[0],w=v[1],N=Math.max(a,x)+"%",B=Object(c.a)((function(e){return{title:{marginBottom:e.spacing(3),"@media (max-width:1024px)":{fontSize:"1rem"}},link:{cursor:"pointer",textDecoration:"underline",fontSize:"0.75rem"},progressBarContainer:{width:"10%"},innerContainer:{width:N}}}))();return Object(i.useEffect)((function(){p(setInterval((function(){return n((function(e){return e+1}))}),1)),w(setInterval((function(){return O((function(e){return e+1}))}),1))}),[]),110===a&&clearInterval(s),90===x&&clearInterval(f),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{className:B.title,align:"center",variant:"h6",gutterBottom:!0,children:"Snippet no. 1: Fork and adjust generic progress bars, to add progressing percentage"}),Object(j.jsx)(l.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",className:B.progressBarContainer,children:Object(j.jsxs)(l.a,{className:B.innerContainer,item:!0,xs:12,children:[Object(j.jsx)(b,{completed:a,marginTop:0}),Object(j.jsx)(b,{completed:x,marginTop:"16px"})," "]})}),Object(j.jsxs)(u.a,{variant:"caption",color:"textSecondary",gutterBottom:!0,children:["The forked repo is available ",Object(j.jsx)(m.a,{className:B.link,color:"textPrimary",onClick:function(){return window.open("https://github.com/O-K-G/simple-progress-bar","_blank","noreferrer")},variant:"body1",children:"here"}),"."]})]})},h=a(93),g=a(95),x=a(98),O=a(92),y=a(96),v=a(97),f=a(42),w=Object(c.a)((function(e){return{container:{marginTop:e.spacing(2)},title:{marginTop:e.spacing(3),marginBottom:e.spacing(3),"@media (max-width:1024px)":{fontSize:"1rem"}},typography:{padding:e.spacing(2)}}})),N=function(e){var t=w(),a=Object(i.useState)(null),n=Object(d.a)(a,2),r=n[0],o=n[1],c=Boolean(r),s=c?"simple-popover":void 0,l="https://www.openstreetmap.org/export/embed.html?bbox="+e.longitude+"%2C"+e.latitude+"%2C&amp;layer=mapnik";return Object(j.jsxs)("div",{className:t.container,children:[Object(j.jsx)(u.a,{className:t.title,variant:"h6",align:"center",gutterBottom:!0,children:"Snippet no. 3: Displaying location on openstreetmap.org"}),Object(j.jsx)(v.a,{"aria-describedby":s,variant:"contained",color:"primary",onClick:function(e){o(e.currentTarget)},children:"View your location on openstreetmap.org"}),Object(j.jsx)(y.a,{id:s,open:c,anchorEl:r,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(j.jsx)(f.a,{url:l,width:"450px",height:"450px",id:"myId",className:"myClassname",display:"initial",position:"relative"})})]})},B=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.a)((function(e){return{link:{cursor:"pointer",textDecoration:"underline"},title:{marginTop:e.spacing(3),marginBottom:e.spacing(3),"@media (max-width:1024px)":{fontSize:"1rem"}},inlinePaper:{display:"inline",width:"auto",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},margin:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},dataTitle:{textDecoration:"underline"}}}))();return Object(i.useEffect)((function(){navigator.geolocation.watchPosition((function(e){n(e.coords)}),(function(e){console.warn(e.message),n(e)}),{enableHighAccuracy:!0})}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{className:r.title,variant:"h6",align:"center",gutterBottom:!0,children:"Snippet no. 2: Getting a user's location"}),Object(j.jsxs)("div",{className:r.margin,children:[Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:"In Node.js\\Express, you can use "}),Object(j.jsx)(O.a,{className:r.inlinePaper,variant:"outlined",square:!0,children:"'req.ip'"}),Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:" (may be a proxy IP instead), or "}),Object(j.jsx)(O.a,{className:r.inlinePaper,variant:"outlined",square:!0,children:"'req.header('x-forwarded-for')'"}),Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:" to get a user's IP address."}),Object(j.jsxs)(u.a,{variant:"body1",gutterBottom:!0,children:["You can see an exmaple in ",Object(j.jsx)(x.a,{title:"polykick.com GitHub",placement:"top-start",children:Object(j.jsx)(m.a,{className:r.link,color:"textPrimary",onClick:function(){return window.open("https://github.com/O-K-G/polykick/blob/main/server/src/components/routes/fetchCountry.js","_blank","noreferrer")},variant:"body1",children:"this"})})," project of mine."]}),Object(j.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:"Then, using a third party package or API service, you can get some non-accurate geodata."})]}),Object(j.jsxs)("div",{className:r.margin,children:[Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:"The other option is to get the device location (using GPS, etc'... if available) with "}),Object(j.jsx)(O.a,{className:r.inlinePaper,variant:"outlined",square:!0,children:"'navigator.geolocation.watchPosition()'"}),Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:"."}),Object(j.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:"This is up to the user though to decide if to allow or deny location access."})]}),Object(j.jsxs)("div",{className:r.margin,children:[Object(j.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:"In this example, if you allowed access, you should see your device position."}),Object(j.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:"Otherwise, you'll see an error message."})]}),a.code?Object(j.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:a.message}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Your latitude:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.latitude?a.latitude:"No data provided from the device"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Your longitude:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.longitude?a.longitude:"No data provided from the device"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Latitude and longitude accuracy:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.accuracy?a.accuracy+" m":"No data provided from the device"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Your altitude:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.altitude?a.altitude:"No data provided from the device"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Altitude accuracy:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.altitudeAccuracy?a.altitudeAccuracy:"No data provided from the device"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Your heading:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.heading?a.heading:"No data provided from the device"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{display:"inline",className:r.dataTitle,variant:"body1",gutterBottom:!0,children:"Your speed:"})," ",Object(j.jsx)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:a.speed?a.speed:"No data provided from the device"})]})]}),Object(j.jsx)(N,{longitude:a.longitude,latitude:a.latitude})]})},T=a(36),k=a.n(T),C=a(44),S=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.a)((function(e){return{link:{cursor:"pointer",textDecoration:"underline"},title:{marginTop:e.spacing(3),marginBottom:e.spacing(3),"@media (max-width:1024px)":{fontSize:"1rem"}},inlinePaper:{width:"50%",wordWrap:"break-word","@media (max-width:1024px)":{width:"100%"},paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},margin:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},dataTitle:{textDecoration:"underline"}}}))();return Object(i.useEffect)((function(){(function(){var e=Object(C.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://data.gov.il/api/3/action/datastore_search?resource_id=e83f763b-b7d7-479e-b172-ae981ddc6de5&limit=5&q=ly",{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n(a.result.records);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u.a,{className:r.title,variant:"h6",align:"center",gutterBottom:!0,children:"Snippet no. 4: Retrieving JSONP data with just a fetch() request and no 3rd party packages"}),Object(j.jsxs)("div",{className:r.margin,children:[Object(j.jsx)(u.a,{variant:"body1",gutterBottom:!0,children:"Unlike what other (outdated?) sources claim, fetch() may indeed be sufficient to deal with JSONP data (and not just JSON):"}),Object(j.jsxs)(O.a,{className:r.inlinePaper,variant:"outlined",square:!0,children:['const resourceId = "e83f763b-b7d7-479e-b172-ae981ddc6de5";',Object(j.jsx)("br",{}),"const numberOfResults = 5;",Object(j.jsx)("br",{}),'const url = "https://data.gov.il/api/3/action/datastore_search";',Object(j.jsx)("br",{}),'const query = "ly";',Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"const fetchFlightsData = async () => {",Object(j.jsx)("br",{}),'const response = await fetch(url + "?resource_id=" + resourceId + "&limit=" + numberOfResults + "&q=" + query, {',Object(j.jsx)("br",{}),"method: 'GET',",Object(j.jsx)("br",{}),"mode: 'cors',",Object(j.jsx)("br",{}),"headers: {",Object(j.jsx)("br",{}),"'Content-Type': 'application/x-www-form-urlencoded'",Object(j.jsx)("br",{}),"}",Object(j.jsx)("br",{}),"});",Object(j.jsx)("br",{}),"const data = await response.json();"]}),Object(j.jsxs)(u.a,{className:r.margin,variant:"body1",gutterBottom:!0,children:["*Free flights API info (to\\from Israel) is publicly available ",Object(j.jsx)(m.a,{className:r.link,color:"textPrimary",onClick:function(){return window.open("https://data.gov.il/dataset/flydata/resource/e83f763b-b7d7-479e-b172-ae981ddc6de5","_blank","noreferrer")},variant:"body1",children:"here"}),"."]}),Object(j.jsx)(u.a,{className:r.margin,variant:"body1",gutterBottom:!0,children:'You should see five flight results, searched by the query string "ly", as an example.'})]}),a&&a.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsxs)(u.a,{display:"inline",variant:"body1",gutterBottom:!0,children:[e.CHOPER+" ",e.CHFLTN+" ",new Date(e.CHPTOL).toLocaleDateString()+" ",e.CHRMINE+" ",e.CHLOC1D+" ",e.CHLOC1T+" ",e.CHTERM+" ",e.CHAORD+" ",e.CHCINT+" ",e.CHCKZN+" "]})},t)}))]})},P=function(){var e=Object(h.a)("(prefers-color-scheme: dark)"),t=Object(i.useMemo)((function(){return Object(o.a)({palette:{type:e?"dark":"light",background:{default:e?"#000":"#fff"}}})}),[e]),a=Object(c.a)((function(e){return{root:{fontFamily:"Roboto",width:"100%",padding:e.spacing(2)}}}))();return Object(j.jsxs)(s.a,{theme:t,children:[Object(j.jsx)(g.a,{}),Object(j.jsxs)("div",{className:a.root,children:[Object(j.jsx)(p,{}),Object(j.jsx)(B,{}),Object(j.jsx)(S,{})]})]})};r.a.render(Object(j.jsx)(P,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.b72bf20e.chunk.js.map